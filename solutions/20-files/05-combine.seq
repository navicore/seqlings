: count-lines ( String -- Int )
    "\n" string.split list.length
;

: test-count-lines ( -- )
    "line1\nline2\nline3\nline4" count-lines
    4 test.assert-eq
;

: add-header ( String String -- String )
    "\n" string.concat swap string.concat
;

: test-add-header ( -- )
    "data here" "# Header" add-header
    "# Header\ndata here" test.assert-eq
;
