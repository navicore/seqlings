: upcase-all ( Variant -- Variant )
    [ string.to-upper ] list.map
;

: test-map ( -- )
    "hello world" " " string.split upcase-all
    dup list.length 2 test.assert-eq
    dup 0 variant.field-at "HELLO" string.equal? test.assert
    1 variant.field-at "WORLD" string.equal? test.assert
;
