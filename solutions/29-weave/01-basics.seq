: yield-42 ( Ctx Int -- Ctx | Yield Int )
    drop           # drop resume value
    42 yield       # yield 42
    drop           # drop next resume value
;

: test-basic-weave ( -- )
    [ yield-42 ] strand.weave
    0 strand.resume
    test.assert
    42 test.assert-eq
    0 strand.resume
    test.assert-not
    drop drop
;
